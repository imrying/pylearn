



<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">   
  </head>

  <body>

    <center><h1 class="mt-5">Velkommen {{username}}!</h1></center>

    <div class="container-lg mt-5 mb-5">
        <div class="row align-items-start">
            <div class="col-4">
            <div class="bg-white shadow shadow px-4 py-4">
              <div class="row">

                
                <div class="col-6">

                  <div class="mb-4">
                  <label for="cars"> <span> <h3> Klasse </h3> </span>  </label>
                  </div>
                    
                    <select id="classes" onchange="updateClassCode()">
                      <option value="" selected = "selected">VÃ¦lg klasse</option>
                      {% for i in teacher_classes %}
                        <option value="{{i.class_code}}">{{i.class_name}}</option>
                      {% endfor %}
                    </select>
                    <br>
                    <a href="/teacher/createclass">Opret ny klasse</a>
                  
                  </div>

                  <div class="col-6">
                    <h5> Kode: </h5> <p id="shown_class_code"></p>
                    </div>
                  </div>
              </div>
              </div>

              <!-- Opgaver -->
              <div class="row">
                <div class="col-3">Dato</div>
                <div class="col-9">Navn</div>
                
              </div>
              <div class="row" id="shown_assignments">
                ..
                <!-- Change this with javascript -->
              </div>
              
            </div>
            <div class="col-8">Assignments</div>
      </div>
    </div>

     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <p>{{username}}</p>
    <script>
      function selectAssignment(obj) {
        obj = JSON.parse(decodeURIComponent(obj));
      }


      function updateClassCode() {
        var class_code = document.getElementById("classes").value;
        document.getElementById('shown_class_code').innerHTML = class_code;

        var g = "{{ teacher_assignments|escapejs }}";
        g = JSON.parse(g);
        var htmlcode = "";
        for (var i = 0; i < g.length; i++) {
          var obj = g[i];
          if (obj.class_code == class_code) {
            console.log();
            htmlcode += "<div class='col-3'>1/11</div><div class='col-9'><button class='btn btn-primary' onclick='selectAssignment(\"" + encodeURIComponent(JSON.stringify(obj)) + "\")'>Knap</button></div>";
          }
        }
        document.getElementById('shown_assignments').innerHTML = htmlcode;
      }
    </script>
  </body>
</html>


